# 三角连锁棋(共享六边形棋盘游戏)

## !!!注意本项目移动为[Playground](https://github.com/mzhh1/Playground)的子项目，不再维护。
[前往新地址](https://github.com/mzhh1/Playground/tree/main/hexagon_game)

## 项目简介

这是一个基于 Flask 的多人共享六边形棋盘游戏。玩家通过网页选择颜色，在棋盘上依次放置线条，围成三角形并染色，最终填满所有三角形即游戏结束。支持悔棋、重置等功能，适合多人协作或对抗。

## 游戏规则

- 棋盘为六边形，由点组成，每行点数为：4, 5, 6, 7, 6, 5, 4。
- 每位玩家进入页面后，需选择一个颜色作为身份。
- 玩家每回合可在棋盘上放置一条长度为4的直线（覆盖4个连续的点，且必须为直线，不能与已有线完全重合）。
- 放置线条后，如果新围成了一个小三角形（可以与其他已有的任何颜色的线一起围成），则该三角形会被染上当前线条的颜色。
- 每个三角形只能被染色一次，归属于第一个围成它的玩家。
- 游戏持续进行，直到所有三角形都被染色，游戏结束。
- 支持悔棋（只能撤销自己下的最后一步），支持棋盘重置。

## 主要功能

- 六边形棋盘渲染与交互
- 多人颜色选择与身份识别
- 线条放置与规则校验
- 三角形自动染色与计分
- 分数榜实时更新
- 悔棋与重置功能
- 响应式美观前端界面

## 部署与运行

1. **环境准备**
   - Python 3.7+
   - pip

2. **安装依赖**
   ```bash
   pip install flask
   ```

3. **运行项目**
   ```bash
   python app.py
   ```
   默认监听 `http://localhost:5001/`，可在浏览器访问。

4. **文件结构**
   ```
   ├── app.py                # Flask后端主程序
   ├── templates/
   │   └── index.html        # 前端页面模板
   ├── static/
   │   ├── style.css         # 前端样式
   │   └── main.js           # 前端交互逻辑
   └── README.md             # 项目说明
   ```

## 技术说明

- 前端：原生 HTML + CSS + JavaScript，响应式布局，SVG 绘制棋盘。
- 后端：Flask，使用全局变量存储棋盘状态，支持多人实时同步。
- 状态同步：前端每2秒自动轮询后端，获取最新棋盘状态。
- 悔棋与重置：后端保存历史状态，支持撤销和重置操作。

## 玩法演示

1. 打开网页，选择你的颜色。
2. 点击棋盘上的两个点，自动选择一条长度为4的直线。
3. 若该线围成了新的三角形，则自动染色并计分。
4. 可点击“悔棋”撤销自己刚刚的操作。
5. 所有三角形被染色后，游戏结束。

## 贡献与反馈

欢迎提出建议、反馈 bug 或提交 PR。

---

如需自定义棋盘、颜色或规则，请修改 `app.py` 和 `static/main.js`。 
